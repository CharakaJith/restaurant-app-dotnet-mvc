@model OrderViewModel

@{
    ViewBag.Title = "Your Cart";
}

<div class="container mt-4">
    <div class="card shadow rounded">
        <div class="card-header bg-primary text-white d-flex justify-content-between align-items-center">
            <h4 class="mb-0">Your Shopping Cart</h4>
        </div>

        <form asp-action="Checkout" asp-controller="Order" method="post">
            <div class="card-body">
                @if (Model.OrderItems != null && Model.OrderItems.Any())
                {
                    <table class="table table-hover align-middle">
                        <thead class="table-light">
                            <tr>
                                <th>Product</th>
                                <th class="text-center">Quantity</th>
                                <th class="text-end">Price</th>
                                <th class="text-end">Total</th>
                            </tr>
                        </thead>
                        <tbody>
                            @foreach (var item in Model.OrderItems)
                            {
                                <tr>
                                    <td>@item.ProductName</td>
                                    <td>@item.Quantity</td>
                                    <td class="text-end">$ @item.Price.ToString("C")</td>
                                    <td class="text-end">$ @(item.Price * item.Quantity)</td>                                    
                                </tr>
                            }
                        </tbody>
                        <tfoot>
                            <tr>
                                <td colspan="3" class="text-end fw-bold">Grand Total:</td>
                                <td class="text-end fw-bold">@Model.TotalAmount.ToString("C")</td>
                                <td></td>
                            </tr>
                        </tfoot>
                    </table>

                    <div class="d-flex justify-content-between mt-4">
                        <a asp-action="Create" asp-controller="Order" class="btn btn-secondary">
                            Continue Shopping
                        </a>
                        <button type="submit" class="btn btn-success">
                            Place Order
                        </button>
                    </div>
                }
                else
                {
                    <p class="text-muted text-center mb-0">Your cart is empty.</p>
                    <div class="text-center mt-3">
                        <a asp-action="Create" asp-controller="Order" class="btn btn-primary">
                            Browse Products
                        </a>
                    </div>
                }
            </div>
        </form>        
    </div>
</div>
